# PR — Issue #22: Enhanced examples & Agent Skills

## Summary

- **Example**: ReAct + ToolHub single-stock research → HTML report (`examples/agent-toolhub-react-stock.mjs`).
- **Agent Skills**: Multiple programs per skill, SKILL spec alignment, `allowed-tools` enforcement, yahoo-finance skill (`index.js` + quote/chart), instruction-only example.
- **LangChain**: `toolHubToLangChainTools(hub)` and subpath export `@easynet/agent-tool-hub/langchain-tools`.

---

## 1. Example & config

- **`examples/agent-toolhub-react-stock.mjs`** — ReAct + ToolHub, single-stock research, HTML report (Report + Debug tabs). Output: `<SYMBOL>-research-report.html`.
- **`examples/toolhub.yaml`** — Discovery roots only (LangChain, Skill, MCP, n8n-local). Removed `mcp.prefix`, `comfyui`, explicit `langchain` block.
- **Removed**: `agent-toolhub-deepagents-sp500.mjs`, `agent-toolhub-example.mjs`; **Test**: `deepagents-stock-example.test.ts` (example config + stock research).

---

## 2. Agent Skills (SKILL spec)

- **Multiple programs**: One skill dir → multiple tools via auto-discovered `.js`/`.mjs` or `tool.json` `programs`. Default: `index.js` or `handler.js`; others by file base (e.g. `quote`, `chart`).
- **Frontmatter**: Required `name`, `description`; optional `license`, `compatibility`, `metadata`, `allowed-tools`. Validation in `SkillManifest` / `SkillMdParser`.
- **`allowed-tools`**: Enforced when a skill calls `invokeTool`; if set, only listed tools; if omitted/empty, allow all. `SkillAdapter` + tests.
- **Yahoo-finance skill**: `index.js` (default), `quote.js`, `chart.js`; all `StructuredTool`; shared `lib/yahoo-api.js`, `references/REFERENCE.md`.
- **Instruction-only**: `examples/tools/instruction-only/skill/SKILL.md` — no handler, returns SKILL content.
- **Discovery**: Dir named `skill` + `index.js` → skill only (no LangChain inference), avoids ambiguous kind.
- **Docs**: `docs/AGENT_SKILLS_SPEC.md` — compliance, enforced vs optional, gaps.

---

## 3. LangChain bridge

- **`src/langchain-tools.ts`** — `toolHubToLangChainTools(hub)`, `extractToolArgs()`.
- **Export**: `@easynet/agent-tool-hub/langchain-tools`; optional peer deps: langchain, zod.

---

## 4. Other

- **MCPAdapter**: Invoke name = last path segment (e.g. `tools/web-search` → `web-search`).
- **SkillLoader**: Class (StructuredTool), LangChain-like object, or function handler; description/schema from instance.

---

## Run

```bash
npm run build
npm run example:agent-toolhub-react-stock
```

Report: `<SYMBOL>-research-report.html`.

---

## Tests

- `npm test` — all pass (383).
- SkillAdapter (allowed-tools), DirectoryScanner (skill multi-program), loaders (SkillLoader), examples (all tools + yahoo-finance), langchain-tools, deepagents-stock-example.
